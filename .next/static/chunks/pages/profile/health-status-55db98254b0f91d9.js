(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[197],{6208:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/health-status",function(){return t(2601)}])},7474:function(e,n,t){"use strict";function i(e){let n={};return e.forEach(e=>{n[e.name]=e.value||""}),n}function l(e){let n=new Date(e),t=n.getFullYear(),i=n.getMonth()+1>9?n.getMonth()+1:"0"+(n.getMonth()+1),l=n.getDate()>9?n.getDate():"0"+n.getDate();return"".concat(t,"-").concat(i,"-").concat(l)}t.d(n,{J:function(){return l},e:function(){return i}})},1661:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var i=t(5893),l=t(5675),a=t.n(l),r=t(682),s=t(3970),o=t(1664),d=t.n(o),u=t(1163),c=t(1649),f=t(5949),p=t(5753),h=t(1955);let m="profile-layout-navbar-item d-flex align-items-center justify-content-between";function v(e){var n,t,l,o;let{children:v}=e,{pathname:x,reload:j}=(0,u.useRouter)(),{user:g}=(0,c.v9)(e=>e.auth),y=(0,c.I0)();return(0,i.jsx)("div",{className:"profile-layout",children:(0,i.jsxs)(r.Z,{children:[(0,i.jsxs)("aside",{className:"profile-layout-aside d-flex flex-column",children:[(0,i.jsx)("div",{className:"profile-layout-header border-bottom  d-flex mb-lg align-items-center justify-content-between gap-3",children:(0,i.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,i.jsx)(a(),{src:(null==g?void 0:null===(n=g.data)||void 0===n?void 0:n.avatar)||"/images/user-placeholder.png",alt:"",className:"img-fluid profile-layout-aside-avatar rounded-circle",width:60,height:60}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("h5",{className:"profile-layout-aside-name m-0",children:[null==g?void 0:null===(t=g.data)||void 0===t?void 0:t.first_name," ",null==g?void 0:null===(l=g.data)||void 0===l?void 0:l.middle_name]}),(0,i.jsx)("span",{children:null==g?void 0:null===(o=g.data)||void 0===o?void 0:o.package_type})]})]})}),(0,i.jsx)("nav",{className:"profile-layout-navbar",children:Object.values(s.m).map((e,n)=>(0,i.jsxs)(d(),{href:e.path,className:x===e.path?"active "+m:m,children:[(0,i.jsx)("span",{children:e.title}),(0,i.jsx)("i",{className:"las la-angle-left icon"})]},n))}),(0,i.jsx)("div",{className:"mt-auto",children:(0,i.jsx)(f.un,{type:"button",variant:"danger",style:{minWidth:"100%"},title:"تسجيل خروج",onClick:function(){h.Z.remove("access_token"),y((0,p.kS)()),j()}})})]}),(0,i.jsx)("div",{className:"profile-layout-content",children:v})]})})}},8061:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var i=t(5893),l=t(5949),a=t(1664),r=t.n(a);function s(e){return(0,i.jsxs)("div",{className:" mt-auto d-flex align-items-center justify-content-between border-top pt-4 gap-4",children:[(0,i.jsx)(l.Ai,{type:"submit",title:"حفظ",icon:"las la-check",style:{minWidth:"150px"},radius:!0,loading:e.loading}),e.path&&(0,i.jsxs)(r(),{href:e.path,className:"profile-form-footer d-flex align-items-center gap-3",children:[(0,i.jsx)("span",{children:e.link}),(0,i.jsx)("i",{className:"las la-long-arrow-alt-left icon"})]})]})}},5491:function(e,n,t){"use strict";t.d(n,{U:function(){return o}});var i=t(4597),l=t(4699);function a(e){return(0,l.Z)().post("user/profile",e)}function r(){return(0,l.Z)().get("user/profile")}var s=t(5949);function o(e){let{handlePayload:n}=e,{data:t,isLoading:l}=(0,i.ib)({queryFn:r,queryKey:"get-profile-data"}),{mutate:o,isLoading:d}=(0,i.uV)({queryFn:a,alert:!1});return{data:null==t?void 0:t.data,isLoadingProfileData:l,isLoading:d,handleSubmit:function(e,t){let i=n(e);o(i,{onSuccess:e=>{(0,s.FN)({icon:"success",title:"تم تحديث البيانات بنجاح"})},onError:e=>{var n,i;let l=null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.errors;if(l)for(let e in l)t.setFieldError(e,l[e][0]);(0,s.FN)({icon:"error",title:null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.message})}})}}}},2601:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return m},default:function(){return v}});var i=t(5893),l=t(3663),a=t(1661),r=t(2175),s=t(3970),o=t(5949),d=t(6968),u=t(4051),c=t(1555),f=t(7474),p=t(8061),h=t(5491),m=!0;function v(){var e,n;let{healthStatus:t}=s.m;(0,f.e)(t.fields);let{handleSubmit:l,isLoading:a,isLoadingProfileData:m,data:v}=(0,h.U)({handlePayload:function(e){let n=new FormData;for(let t in e)n.append(t,e[t]);return n.append("step",3),n}});return m?(0,i.jsx)(d.Z,{as:"span",animation:"border",size:"md",role:"status","aria-hidden":"true"}):(0,i.jsx)("div",{children:(0,i.jsx)(r.J9,{initialValues:{...null==v?void 0:v.step_3,disease_type:(null==v?void 0:null===(e=v.step_3)||void 0===e?void 0:e.disease_type)?null==v?void 0:null===(n=v.step_3)||void 0===n?void 0:n.disease_type.split(","):""},onSubmit:l,children:e=>{let{values:n}=e;return(0,i.jsxs)(r.l0,{className:"h-100 d-flex flex-column profile-form box",children:[(0,i.jsx)(u.Z,{children:t.fields.map((e,n)=>(0,i.jsx)(c.Z,{...e.cols,children:(0,i.jsx)(o.nG,{item:e})},n+e.id))}),(0,i.jsx)(p.Z,{loading:a,link:"مسكن الزوجية",path:"/profile/marital-housing"})]})}})})}v.getLayout=function(e){return(0,i.jsx)(l.Z,{containerProps:s.n.containerProps,headerProps:s.n.headerProps,children:(0,i.jsx)(a.Z,{children:e})})}},1163:function(e,n,t){e.exports=t(6885)}},function(e){e.O(0,[296,438,907,776,251,665,774,888,179],function(){return e(e.s=6208)}),_N_E=e.O()}]);